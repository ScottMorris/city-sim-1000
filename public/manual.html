<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>City Sim 1000 Manual</title>
    <style>
      body {
        font-family: 'Segoe UI', Tahoma, sans-serif;
        background: #0f1629;
        color: #e8f1ff;
        line-height: 1.6;
        padding: 24px;
      }
      h1, h2 { color: #7bffb7; }
      code { background: #1c2438; padding: 2px 6px; border-radius: 4px; }
      a { color: #89c2ff; }
      ul { margin-top: 8px; }
    </style>
  </head>
  <body>
    <h1>City Sim 1000 Manual</h1>
    <p>A lightweight, offline-friendly city builder. Everything runs client side and saves to your browser.</p>

    <h2>Loading the game</h2>
    <ul>
      <li>Run <code>npm install</code> then <code>npm run dev</code> to play locally.</li>
      <li>Open the game in your browser. A service worker caches assets so it keeps working offline after the first load.</li>
      <li>Add to your home screen or app drawer using the browser install button for a standalone feel.</li>
    </ul>

    <h2>Controls</h2>
    <ul>
      <li><strong>Drag</strong> the map to pan. Use your mouse wheel or pinch to zoom.</li>
      <li>Choose a tool from the toolbar and click tiles to apply it.</li>
      <li>Hover over demand bars to view the approximate need for Residential, Commercial, and Industrial zones.</li>
      <li>Click tiles to inspect terrain, utilities, and zone data.</li>
      <li>Use the Debug overlay button to see live stats (demand, utilities, zone counts) while tuning growth.</li>
      <li><strong>Hotkeys</strong>: Move with <code>WASD</code> or arrow keys, press <code>I</code> to enter Inspect mode, and use quick tool shortcuts: Raise (<code>E</code>), Lower (<code>Q</code>), Water paint (<code>F</code>), Trees (<code>T</code>), Road (<code>R</code>), Rail (<code>L</code>), Power Lines (<code>P</code>), Hydro Plant (<code>H</code>), Water Pump (<code>U</code>), Water Tower (<code>Y</code>), Residential (<code>Z</code>), Commercial (<code>X</code>), Industrial (<code>C</code>), Park (<code>K</code>), Bulldoze (<code>B</code>). Set simulation speed with <code>1</code> (Slow), <code>2</code> (Fast), <code>3</code> (Ludicrous).</li>
    </ul>

    <h2>Tools</h2>
    <ul>
      <li><strong>Terraform</strong>: convert terrain back to land and flatten rough edges.</li>
      <li><strong>Water</strong>: flood tiles to create lakes or rivers.</li>
      <li><strong>Water Services</strong>: open the submenu for utility buildings. Place <em>Pump</em> for basic supply, <em>Water Tower</em> for extra capacity that stays on without power, and note that <em>Pipes</em> are stubbed until an underground view ships.</li>
      <li><strong>Trees</strong>: add greenery for happiness and decoration.</li>
      <li><strong>Road / Rail</strong>: lay transport networks for citizens and freight.</li>
      <li><strong>Power Line</strong>: connect neighbourhoods to your hydro plants; can run over roads/rail without breaking access.</li>
      <li><strong>Hydro Plant</strong>: produces clean electricity. Place near water for flavor.</li>
      <li><strong>Residential / Commercial / Industrial</strong>: zone your city to grow population, shops, and factories. Zones cannot overwrite roads or rail—bulldoze first.</li>
      <li><strong>Bulldozer</strong>: remove buildings or networks without affecting terrain.</li>
    </ul>

    <h2>Economy & Utilities</h2>
    <ul>
      <li>Money updates every in-game day. Keep an eye on your income and maintenance.</li>
      <li>Power is generated by plants; roads and rail also conduct power in addition to power lines. Water is temporarily disabled until pipes/underground view ship.</li>
      <li>Growth needs power ≥ 0 and a road chain; zones adjacent to roads can power neighbours through the network.</li>
      <li>Starter demand is seeded when the city is empty so pre-painted zones can begin to grow; normal demand formulas resume after the first builds.</li>
      <li>Demand bars show where citizens want you to grow next.</li>
    </ul>

    <h2>Temporary caveats</h2>
    <ul>
      <li>Water simulation is stubbed (fixed high balance); only power deficits block growth.</li>
      <li>Power lines can overlay roads/rail; future sprites will reflect crossings.</li>
      <li>Zoning over transport is blocked to prevent accidental overwrite; bulldoze transport first.</li>
    </ul>

    <h2>Saving & backups</h2>
    <ul>
      <li>Use <strong>Save to Browser</strong> to store your city in localStorage.</li>
      <li><strong>Download Save</strong> exports a JSON file so you can back it up.</li>
      <li><strong>Upload Save</strong> lets you restore any exported city.</li>
    </ul>
  </body>
</html>
